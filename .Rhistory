ggplot(aes(x = "", y = Tick, fill = Tick)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_line(colour = "black"),
panel.border = element_rect(colour = 'black', fill = NA)) -> g1
g1
tk %>% mutate(Tick = recode(VectorNoPath, !!!rec1)) %>%
ggplot(aes(x = "", y = Tick, fill = Tick)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank()) -> g1
g1
tk %>% mutate(Human = recode(HumanCaseData, !!!rec2)) %>%
ggplot(aes(x = "", y = Human, fill = Human)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank())
rec2 <- c(checked = 'Human case data', .missing = 'No human case data')
tk %>% mutate(Human = recode(HumanCaseData, !!!rec2)) %>%
ggplot(aes(x = "", y = Human, fill = Human)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank())
tk %>% mutate(Human = recode(`Human case data`, !!!rec2)) %>%
ggplot(aes(x = "", y = Human, fill = Human)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank()) -> g1
g21
g1
tk %>% mutate(Human = recode(`Human case data`, !!!rec2)) %>%
ggplot(aes(x = "", y = Human, fill = Human)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank())
tk %>% mutate(Tick = recode(VectorNoPath, !!!rec1)) %>%
ggplot(aes(x = "", y = Tick, fill = Tick)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank())
tk %>% mutate(Human = recode(`Human case data`, !!!rec2)) %>%
ggplot(aes(x = "", y = Human, fill = Human)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank())
tk %>% mutate(Human = recode(`Human case data`, !!!rec2)) %>%
ggplot(aes(x = "", y = Human, fill = Human)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank()) + coord_flip()
tk %>% mutate(Human = recode(`Human case data`, !!!rec2)) %>%
ggplot(aes(x = "", y = Human, fill = Human)) +
geom_bar(stat="identity", width=1) +
coord_polar("y") +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank()) -> g2
g2
?coord_polar
tk %>% mutate(Human = recode(`Human case data`, !!!rec2)) %>%
ggplot(aes(x = "", y = Human, fill = Human)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start = 0, direction = 1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank()) -> g2
g2
tk %>% mutate(Human = recode(`Human case data`, !!!rec2)) %>%
ggplot(aes(x = "", y = Human, fill = Human)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank()) -> g2
g2
g1 + g2
rec1 <- c(checked = 'Tick data as proxy', .missing = 'Real pathogen data')
tk %>% mutate(Tick = recode(VectorNoPath, !!!rec1)) %>%
ggplot(aes(x = "", y = Tick, fill = Tick)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank()) -> g1
rec2 <- c(checked = 'Human case data', .missing = 'No human case data')
tk %>% mutate(Human = recode(`Human case data`, !!!rec2)) %>%
ggplot(aes(x = "", y = Human, fill = Human)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank()) -> g2
g1 + g2
tk %>% View
?recode
rec3 <- c(.default = 'Wildlife data', .missing = 'No wildlife data')
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife))
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0, direction = -1)
rec3 <- c(.missing = 'No wildlife data', .default = 'Wildlife data')
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank()) -> g2
g2
g1
rec3 <- c(.missing = 'No wildlife data', .default = 'Wildlife data')
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank())
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'Wildlife data', 'No wildlife data')) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank())
table(is.na(tk$`Host species`))
table(tk$`Host species`)
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'Wildlife data', 'No wildlife data')) %>% pull(Wildlife)
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'Wildlife data', 'No wildlife data')) %>% pull(Wildlife) %>% table()
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'Wildlife data', 'No wildlife data')) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank())
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>% pull(Wildlife)
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>% pull(Wildlife) %>% class()
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'Wildlife data', 'No wildlife data')) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank())
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = as_factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'Wildlife data', 'No wildlife data')) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank())
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = as_factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data','Wildlife data')) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank())
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = as_factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data', 'Wildlife data'))
source('~/GitHub/tickmaps/Descriptive.R', echo=TRUE)
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = as_factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data', 'Wildlife data'))
tk %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = as_factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data', 'Wildlife data'))
tk %>% select(Wildlife) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = as_factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data', 'Wildlife data'))
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = as_factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data', 'Wildlife data'))
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = as_factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data', 'Wildlife data')) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank())
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = as_factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data', 'Wildlife data')) %>%
pull(Wildlife) %>% table()
133/(170+133)
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = as_factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data', 'Wildlife data')) %>%
pull(Wildlife) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1)
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
mutate(Wildlife = as_factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data', 'Wildlife data')) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1)
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
#mutate(Wildlife = as_factor(Wildlife)) %>%
#mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data', 'Wildlife data')) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1)
rec3 <- c(.missing = 'No wildlife data', .default = 'Wildlife data')
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
#mutate(Wildlife = as_factor(Wildlife)) %>%
#mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data', 'Wildlife data')) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1)
rec3 <- c(.missing = 'No wildlife data', .default = 'Wildlife data')
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>% pull(Wildlife) %>% table()
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
count(Wildlife)
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
count(Wildlife) +
#mutate(Wildlife = as_factor(Wildlife)) %>%
#mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data', 'Wildlife data')) %>%
ggplot(aes(x = "", y = Wildlife, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1)
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
count(Wildlife) +
#mutate(Wildlife = as_factor(Wildlife)) %>%
#mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data', 'Wildlife data')) %>%
ggplot(aes(x = "", y = n, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1)
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
count(Wildlife) %>%
#mutate(Wildlife = as_factor(Wildlife)) %>%
#mutate(Wildlife = fct_relevel(Wildlife, 'No wildlife data', 'Wildlife data')) %>%
ggplot(aes(x = "", y = n, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1)
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
count(Wildlife) %>%
ggplot(aes(x = "", y = n, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank())
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
count(Wildlife) %>%
mutate(Wildlife = as_factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'Wildlife data', 'No wildlife data')) %>%
ggplot(aes(x = "", y = n, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank())
tk %>% mutate(Human = recode(`Human case data`, !!!rec2)) %>%
count(Human) %>%
ggplot(aes(x = "", y = n, fill = Human)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank()) -> g2
g2
tk %>% mutate(Tick = recode(VectorNoPath, !!!rec1)) %>%
count(Tick) %>%
ggplot(aes(x = "", y = n, fill = Tick)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank()) -> g1
rec2 <- c(checked = 'Human case data', .missing = 'No human case data')
tk %>% mutate(Human = recode(`Human case data`, !!!rec2)) %>%
count(Human) %>%
ggplot(aes(x = "", y = n, fill = Human)) +
geom_bar(stat="identity", width=1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank()) -> g2
rec3 <- c(.missing = 'No wildlife data', .default = 'Wildlife data')
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
count(Wildlife) %>%
mutate(Wildlife = as_factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'Wildlife data', 'No wildlife data')) %>%
ggplot(aes(x = "", y = n, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank())
(g1 + g2) / (g3)
tk %>% select(`Host species`) %>%
mutate(Wildlife = recode(`Host species`, !!!rec3)) %>%
count(Wildlife) %>%
mutate(Wildlife = as_factor(Wildlife)) %>%
mutate(Wildlife = fct_relevel(Wildlife, 'Wildlife data', 'No wildlife data')) %>%
ggplot(aes(x = "", y = n, fill = Wildlife)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0, direction = -1) +
theme(legend.position = 'bottom',
legend.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid  = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.line = element_blank()) -> g3
(g1 + g2) / (g3)
(g1 + g2) / (g3 + g3)
tk %>% View()
tk %>% select(`Host species`) %>%
mutate(Wildlife = strsplit(`Host species`, ",")) %>%
unnest()
tk %>% select(`Host species`) %>%
mutate(Wildlife = strsplit(`Host species`, ",")) %>%
unnest() %>%
count(Wildlife)
